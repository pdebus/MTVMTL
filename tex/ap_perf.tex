\chapter{Performance metrics}
\label{ap:performancemetrics}
In this appendix some additional performance metrics of the library are shown.

\section{Cache Misses}

\begin{table}[h!]
\centering
\footnotesize
\setlength{\tabcolsep}{3pt}
\subfloat[][$361\times 361$]{
	\label{table:cache_lena}
	\begin{tabular}{rll}
	\hline
	Share & Routine & Library \\
	\hline
	22.40	& cholmod\_transpose\_sym & CHOLMOD\\
	17.76	& set\_from\_triplets & Eigen\\
	9.35	& DGEMV(matrix vector multiply)& BLAS\\
	8.96	& DSYRK(symmetric rank-k update)& BLAS\\
	6.22	& cholmod\textunderscore super\textunderscore numeric & CHOLMOD\\
	6.09 	& DTRSV(solve linear sytem)& BLAS\\
	\hline
	\end{tabular}
}
\subfloat[][$1280\times 1024$]{
	\label{table:cache_mathematicians}
	\begin{tabular}{rll}
	\hline
	Share & Routine & Library\\
	\hline
	17.68& DGEMM(matrix matrix multiply)& BLAS\\
	17.14& DSYRK(symmetric rank-k update)& BLAS\\
	12.73& DTRSM(solve triangular sytem)& BLAS\\
	11.66& set\_rom\_triplets(sparse initialization)& Eigen\\
	9.33& CreateCoarserGraph & METIS\\
	5.68& cholmod\_super\_numeric & CHOLMOD\\
	\hline
	\end{tabular}
}
\caption[]{Share of total cache misses for IRLS minimization over $M=\mathbb{R}^3$
\subref{table:cache_lena}"Lena.jpg", $361\times 361$ pixel
\subref{table:cache_mathematicians}"Mathematicians.jpg", $1280\times 1024$ pixel
\label{table:cache_euc}
}
\end{table}

\begin{table}[h!]
\centering
\footnotesize
\setlength{\tabcolsep}{3pt}
\subfloat[][$30\times 30$]{
	\label{table:cache_spd30}
	\begin{tabular}{rll}
	\hline
	Share & Routine & Library \\
	\hline
	9.97& set\_rom\_triplets(sparse initialization)& Eigen\\
	8.75& clear\_page & Kernel\\
	5.04& memcpy\_sse2\_unaligned& LIBC\\
	4.55& unknown& unknown\\
	2.75& DGEMV(matrix vector multiply)& BLAS\\
	2.41& cholmod\_super\_numeric & CHOLMOD\\
	\hline
	\end{tabular}
}
\subfloat[][$100\times 100$]{
	\label{table:cache_spd100}
	\begin{tabular}{rll}
	\hline
	Share & Routine & Library\\
	\hline
	13.77& set\_rom\_triplets(sparse initialization)& Eigen\\
	12.72& DSYRK(symmetric rank-k update)& BLAS\\
	9.59& cholmod\_super\_numeric & CHOLMOD\\
	7.34& DGEMV(matrix vector multiply)& BLAS\\
	7.23& DGEMM(matrix matrix multiply)& BLAS\\
	4.12& cholmod\_transpose\_sym& CHOLMOD\\
	\hline
	\end{tabular}
}
\caption[]{Share of cache misses for IRLS minimization over $M=SPD(3)$
\subref{table:cache_spd30} Synthetic $SPD(3)$ , $30\times 30$
\subref{table:cache_spd100} Synthetic $SPD(3)$ , $100\times 100$
\label{table:cache_spd}
}
\end{table}

\newpage
\section{Page Faults}
\begin{table}[h!]
\centering
\footnotesize
\setlength{\tabcolsep}{3pt}
\subfloat[][$361\times 361$]{
	\label{table:page_lena}
	\begin{tabular}{rll}
	\hline
	Share & Routine & Library \\
	\hline
	30.43& cholmod\_super\_numeric & CHOLMOD\\
	13.07& SparseMatrix::operator= & Eigen\\	
	12.33& set\_from\_triplets& Eigen\\
	12.25& triplet operation& Eigen\\
	12.13& memcpy\_sse2\_unaligned& LIBC\\
	3.54& SparseMatrix::assign& Eigen\\
	\hline
	\end{tabular}
}
\subfloat[][$1280\times 1024$]{
	\label{table:page_mathematicians}
	\begin{tabular}{rll}
	\hline
	Share & Routine & Library\\
	\hline
	11.30& triplet operation& Eigen\\
	10.24& cholmod\_super\_numeric & CHOLMOD\\
	9.05& memcpy\_sse2\_unaligned& LIBC\\
	8.33& set\_from\_triplets& Eigen\\	
	8.04& SparseMatrix::operator= & Eigen\\	
	6.12& SparseMatrix::assign& Eigen\\
	\hline
	\end{tabular}
}
\caption[]{Share of total page faults for IRLS minimization over $M=\mathbb{R}^3$
\subref{table:page_lena}"Lena.jpg", $361\times 361$ pixel
\subref{table:page_mathematicians}"Mathematicians.jpg", $1280\times 1024$ pixel
\label{table:page_euc}
}
\end{table}


\begin{table}[h!]
\centering
\footnotesize
\setlength{\tabcolsep}{3pt}
\subfloat[][$30\times 30$]{
	\label{table:page_spd30}
	\begin{tabular}{rll}
	\hline
	Share & Routine & Library \\
	\hline
	23.88& unknown& unknown\\
	11.20& dl\_relocate\_object & unknown\\
	10.89& evaluateHJ & MTVMTL\\
	8.21& triplet operation& Eigen\\
	8.13&  SparseMatrix::operator= & Eigen\\	
	7.17& memset\_sse2& LIBC\\
	\hline
	\end{tabular}
}
\subfloat[][$100\times 100$]{
	\label{table:page_spd100}
	\begin{tabular}{rll}
	\hline
	Share & Routine & Library\\
	\hline
	20.75&  SparseMatrix::operator= & Eigen\\	
	17.41& cholmod\_super\_numeric & CHOLMOD\\
	15.02& evaluateHJ & MTVMTL\\
	13.65& triplet operation& Eigen\\
	9.37& set\_from\_triplets& Eigen\\
	7.27& memcpy\_sse2\_unaligned& LIBC\\
	\hline
	\end{tabular}
}
\caption[]{Share of total page faults for IRLS minimization over $M=SPD(3)$
\subref{table:page_spd30} Synthetic $SPD(3)$ , $30\times 30$
\subref{table:page_spd100} Synthetic $SPD(3)$ , $100\times 100$
\label{table:page_spd}
}
\end{table}
