\documentclass[a4paper,10pt]{report}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[a4paper, margin=3cm]{geometry}

% Load ``float'' before ``hyperref`` before ''algorithm``
% Note: ''algorithm`` would load ''float`` by itself
\usepackage{appendix}
\usepackage{longtable}
\usepackage[nonumberlist,acronym]{glossaries}

\usepackage{float}


\input{./header_math.tex}
\input{./header_gfx.tex}
\input{./header_algs.tex}
\input{./header_listing.tex}


\usepackage{url}
\usepackage{placeins}
\usepackage{microtype}

% Design of chapter pages
\usepackage[Lenny]{fncychap}

% Links in pdf
\usepackage{color}
\newcommand{\blue}{ \color{blue} }
\definecolor{linkcol}{rgb}{0,0,0.4}
\definecolor{citecol}{rgb}{0.5,0,0}

\usepackage[pagebackref,hyperindex=true]{hyperref}
\hypersetup
{
colorlinks=true,
linkcolor=linkcol,
citecolor=citecol,
urlcolor=linkcol
}




% nicer backref links
\renewcommand*{\backref}[1]{}
\renewcommand*{\backrefalt}[4]{%
\ifcase #1 %
(Not cited.)%
\or
(Cited on page~#2.)%
\else
(Cited on pages~#2.)%
\fi}
\renewcommand*{\backrefsep}{, }
\renewcommand*{\backreftwosep}{ and~}
\renewcommand*{\backreflastsep}{ and~}

\parindent 0cm

\newcommand{\clearemptydoublepage}{\newpage{\pagestyle{empty}\cleardoublepage}}

\newcommand{\circnum}[1]{\mbox{\textcircled{\tiny #1}}}%

\input{./abbreviations.tex}

\begin{document}

\input{./title.tex}
\input{./ch_abstract.tex}

\clearemptydoublepage
\tableofcontents

\clearemptydoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\listfigurename}
\listoffigures

\clearemptydoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\listtablename}
\listoftables

\clearemptydoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\listalgorithmname}
\listofalgorithms

%\clearemptydoublepage

\glsaddall
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{List of Abbreviations}
\printnoidxglossary[type=abbrev,sort=letter,style=index]

\clearemptydoublepage

\input{./ch_introduction.tex}

\clearemptydoublepage

\input{./ch_theory.tex}

\clearemptydoublepage

\input{./ch_library.tex}

\clearemptydoublepage

\input{./ch_numerical_experiments.tex}

\clearemptydoublepage

\input{./ch_outlook.tex}

\clearemptydoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Acknowledgements}
\input{./ch_acknowledgements.tex}

\clearemptydoublepage

\appendix

\input{./ap_listings.tex}
\clearemptydoublepage
\input{./ap_derivatives.tex}
\clearemptydoublepage
\input{./ap_perf.tex}

\clearemptydoublepage

\bibliographystyle{plain}
\bibliography{mt}

\end{document}
